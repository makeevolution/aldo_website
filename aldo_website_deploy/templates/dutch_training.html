{%extends "layout.html" %} {% block content %}

<script type="text/javascript">
  $(document).ready(function(){
	$('#customRadio2').click(function() {
		var i=0;
		$.ajax({
			url: "http://localhost:5000/get_data",
		}).done(function(data) {
			data_parsed=jQuery.parseJSON(data);
			data_parsed.forEach(function(dt){
				$("pquestions").append("<p>"+ dt['question'] +
										"<input id=\""+"question"+i+"\">" + "</input>" +
										"<button type=\""+"button"+"\" id=\""+i+"\">" +
										"</p>");
				i++;
				//console.log(dt['question']);
			});
			//$('#questiontests').html(jQuery.parseJSON(data)['0']["question"]).text();
			//console.log(jQuery.parseJSON(data).length);
		});
	});
  });
</script>

<script type="text/javascript">
	$(document).on("click",'button',function() {
		var x = document.getElementById("question"+this.id).value;
		var current_id=this.id
		$.ajax({
			url: "http://localhost:5000/get_data",
		}).done(function(data) {
			data_parsed=jQuery.parseJSON(data)
			console.log(data_parsed[current_id]["answer"])
			if (x==data_parsed[current_id]["answer"]){
				alert("Correct!");
			} else {
				alert("failed");
			}
			console.log("button click");
		});
	});
</script>

<section class="page-section" style="background-color:lightblue" id="about">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-lg-8 text-center">
				<h2 class="text-black-50 mt-0">Analyzing Exit Survey of Australian Workers</h2>
				<h5 class="text-black-50 mt-0 font-italic">
                    Concepts used: Data Cleaning and Analysis
                </h5>
				<h5 class="text-black-50 mt-0 font-italic">Applications used: Python, Pandas, Jupyter Notebook</h5>
				<p>
				Question1: <input type="input" size="20">
				</p>
			   <div class="custom-control custom-radio">
                      <label style="display:block;" class="custom-control-label" for="customRadio2">(Re)press button for new question</label>
                        <input style="text-align: center; display:inline-block;" type="radio" id="customRadio2" name="customRadio" class="custom-control-input">
                          <p id="#section 1"></p>
				</div>
				<div class="col-lg-8 text-center">
					<pquestions id="#all_questions">

					</pquestions>
				</div>
			</div>
		</div>
	</div>

</section> {% endblock %}