{%extends "layout.html" %} {% block content %}
<section class="page-section" style="background-color:lightblue" id="about">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-lg-8 text-center">
				<h2 class="text-black-50 mt-0">Waver Stepper Modelling and Control</h2>
				<h5 class="text-black-50 mt-0 font-italic">
                    Concepts used: Feedback and Feedforward Control
                </h5>
				<h5 class="text-black-50 mt-0 font-italic">Applications used: MATLAB, Simulink, SimScape</h5>
				<hr class="divider light my-4" />
				<p class="text-black-50 mb-4"> Litography is the process that bulk manufactures chips and transistors that power all
                    consumer electronics. The main operation in litography is to create patterns on a silicone waver, which forms
                    the basis of the transistor. A waver stepper is a machine used in this operation, where it positions the silicone waver
                    to be exposed to UV light in the masking part of the procedure. This project aims to model and control the model of a
                    waver stepper.
                </p>
                <figure>
                    <picture>
                        <img
                        sizes="(max-width: 632px) 100vw, 632px"
                        srcset="
                        templates/waver_stepper_lbf1tn_c_scale,w_200.jpg 200w,
                        templates/waver_stepper_lbf1tn_c_scale,w_481.jpg 481w,
                        templates/waver_stepper_lbf1tn_c_scale,w_632.jpg 632w"
                        src="templates/waver_stepper_lbf1tn_c_scale,w_632.jpg"
                        alt="">
                    </picture>
                    <figcaption>Fig 1. Waver stepper illustration</figcaption>
                </figure>
                The waver is suspended on an air-bearing, in which a
                linear motor actuates the frame through to expose parts of the waver one at a time.
                <br></br>
                The requirement is to move the waver 20 mm in 200 ms, with maximum error of 0.0001 mm 50 ms after the set-point is reached.
                <br></br>
                Attempts to make a realistic model include:
                <ul>
                    <li>The air bearing and the frame is given an elastic connection</li>
                    <li>The interferometer that focuses the laser is connected to the machine frame and is connected elastically</li>
                    <li>The linear motor is connected to the machine frame elastically</li>
                    <li>The motor is modelled to have saturation limits both in maximum force and maximum rate of force applicable</li>
                    <li>To help ensure the above point is respected, the setpoint profile that satisfies the requirement is generated by applying a jerk limited setpoint profile generator </li>
                </ul>
                The Free Body Diagram used that corresponds to the above requirements is as shown:
                <br></br>
                <figure>
                    <picture>
                    <img
                    sizes="(max-width: 718px) 100vw, 718px"
                    srcset="
                    templates/waferfbd_eakqx6_c_scale,w_200.jpg 200w,
                    templates/waferfbd_eakqx6_c_scale,w_571.jpg 571w,
                    templates/waferfbd_eakqx6_c_scale,w_718.jpg 718w"
                    src="templates/waferfbd_eakqx6_c_scale,w_718.jpg"
                    alt="">
                    </picture>
                    <figcaption>Fig. 2: Free Body Diagram</figcaption>
                </figure>
                <br></br>

                And the Simulink model is shown below:
            </div>
            <figure>
                <picture>
                <img class="center"
                sizes="(max-width: 1400px) 100vw, 888px"
                srcset="
                templates/123-1_q2gfs0_c_scale,w_200.jpg 200w,
                templates/123-1_q2gfs0_c_scale,w_593.jpg 593w,
                templates/123-1_q2gfs0_c_scale,w_888.jpg 888w,
                templates/123-1_q2gfs0_c_scale,w_1126.jpg 1126w,
                templates/123-1_q2gfs0_c_scale,w_1365.jpg 1365w,
                templates/123-1_q2gfs0_c_scale,w_1400.jpg 1400w"
                src="templates/123-1_q2gfs0_c_scale,w_888.jpg"
                alt="">
                </picture>
                <figcaption style="text-align:center;">Fig. 3: Simulink and SimScape Diagram</figcaption>
            </figure>
            <br></br>
            <div class="col-lg-8 text-center">
                The open loop response of the above system (without control) is as shown:
            </div>
            <figure>
                <picture>
                <img class="center"
                sizes="(max-width: 670px) 100vw, 670px"
                srcset="
                templates/Capture_onmczu_c_scale,w_200.jpg 200w,
                templates/Capture_onmczu_c_scale,w_496.jpg 496w,
                templates/Capture_onmczu_c_scale,w_670.jpg 670w"
                src="templates/Capture_onmczu_c_scale,w_670.jpg"
                alt="">
                <figcaption style="text-align:center;">Fig. 4: Open loop Response Without PID control</figcaption>
                </picture>
            </figure>
            <br></br>
            <div class="col-lg-8 text-center">
                Looking at the above, the first eigenfrequency is at 200 Hz, which is also the position where the
                phase drops below -180 degrees. Therefore, the highest bandwidth that can be achievable is 200 Hz. Using
                rule of thumb, we take a third of this eigenfrequency as the bandwidth of the system controlled with PID, which is ~75 Hz.
                Tuning a PID controller with this rule of thumb gives a Bode plot as shown:
            </div>
            <figure>
            <picture>
                <img class="center"
                sizes="(max-width: 665px) 100vw, 665px"
                srcset="
                templates/waverbodeaftercontrol_cifpiz_c_scale,w_200.jpg 200w,
                templates/waverbodeaftercontrol_cifpiz_c_scale,w_571.jpg 571w,
                templates/waverbodeaftercontrol_cifpiz_c_scale,w_665.jpg 665w"
                src="templates/waverbodeaftercontrol_cifpiz_c_scale,w_665.jpg"
                alt="">
            </picture>
                <figcaption style="text-align:center;">Fig 5. Open loop response with controller applied</figcaption>
            </figure>
            <br></br>
            <div class="col-lg-8 text-center">
                The system has a phase margin of ~50 degrees and is nicely stable. However, does the
                performance requirement specified above? Applying the jerk limited profile to this controlled
                system gives the following error plot:
            </div>
            <figure>
            <picture>
                <img class="center"
                sizes="(max-width: 680px) 100vw, 680px"
                srcset="
                templates/errorwithoutnotch_qrlhxe_c_scale,w_200.jpg 200w,
                templates/errorwithoutnotch_qrlhxe_c_scale,w_556.jpg 556w,
                templates/errorwithoutnotch_qrlhxe_c_scale,w_680.jpg 680w"
                src="templates/errorwithoutnotch_qrlhxe_c_scale,w_680.jpg"
                alt="">
            </picture>
                <figcaption style="text-align:center;">Fig. 6: Position error of the waver with the above control scheme</figcaption>
                </figure>
            <br></br>
                <div class="col-lg-8 text-center">
                The error requirement is not met; as highlighted above the error goes above its limit after
                the specified time.
                <br></br>
                Analyzing the plot, the error does get bounded within the required error bound; however it
                is not fast enough. The method that I chose to meet the requirement is to increase the bandwidth,
                since doing so will increase responsiveness of system to setpoint changes, and thus the
                error will be bounded faster. After trial and error, a suitable bandwidth is chosen as
                130 Hz. However at this frequency, the system is unstable because of the plant's first eigenfrequency.
                </div>
                <figure>
                    <picture>
                    <img class="center"
                    sizes="(max-width: 674px) 100vw, 674px"
                    srcset="
                    templates/finalunstable_flqzkb_c_scale,w_200.jpg 200w,
                    templates/finalunstable_flqzkb_c_scale,w_523.jpg 523w,
                    templates/finalunstable_flqzkb_c_scale,w_674.jpg 674w"
                    src="templates/finalunstable_flqzkb_c_scale,w_674.jpg"
                    alt="">
                    </picture>
                    <figcaption style="text-align:center;">Fig. 7: Bode Plot of the controlled system designed with a higher bandwidth</figcaption>
                </figure>
                <br></br>
                <div class="col-lg-8 text-center">
                Therefore, a skewed notch filter is applied to get rid of this peak, and additionally
                the zero that is present directly after this pole, such that a smoother gain response is obtained.
                Trial and error gives a suitable skewed notch factors of Q1=100 and Q2=75.
                With these changes, the final response is shown below:
                </div>
                <figure>
                    <picture>
                    <img class="center"
                    sizes="(max-width: 668px) 100vw, 668px"
                    srcset="
                    templates/finalstable_hexa71_c_scale,w_200.jpg 200w,
                    templates/finalstable_hexa71_c_scale,w_455.jpg 455w,
                    templates/finalstable_hexa71_c_scale,w_668.jpg 668w"
                    src="templates/finalstable_hexa71_c_scale,w_668.jpg"
                    alt="">
                    </picture>
                    <figcaption style="text-align:center;"> Fig. 8: Bode plot, with skewed notch filter applied</figcaption>
                </figure>
                <br></br>
                <figure>
                    <picture>
                    <img class="center"
                    sizes="(max-width: 677px) 100vw, 677px"
                    srcset="
                    templates/finalstabletime_ygamyw_c_scale,w_200.jpg 200w,
                    templates/finalstabletime_ygamyw_c_scale,w_531.jpg 531w,
                    templates/finalstabletime_ygamyw_c_scale,w_677.jpg 677w"
                    src="templates/finalstabletime_ygamyw_c_scale,w_677.jpg"
                    alt="">
                    </picture>
                    <figcaption style="text-align:center;">Fig. 9: Position error of waver, with new bandwidth and skewed notch filter applied</figcaption>
                </figure>
                <div class="col-lg-8 text-center">
                As can be seen, the error stays bounded and converges
                    to 0 after the specified time limit. Therefore the
                    controller design is successful.
                </div>
		</div>
	</div>
</section> {% endblock %}